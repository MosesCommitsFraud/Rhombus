<Window x:Class="Rhombus.App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="rhombus" Height="580" Width="900">
  <Grid Margin="12">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- Downloader -->
    <StackPanel Orientation="Horizontal">
      <TextBox Width="520" Text="{Binding Url, UpdateSourceTrigger=PropertyChanged}" />
      <ComboBox Width="140" Margin="8,0,0,0" SelectedItem="{Binding SelectedKind}">
        <ComboBoxItem Content="Audio"/>
        <ComboBoxItem Content="Video"/>
      </ComboBox>
      <Button Content="Download" Command="{Binding DownloadCommand}" Width="120" Margin="8,0,0,0"/>
    </StackPanel>

    <!-- Logs -->
    <TextBox Grid.Row="1" Text="{Binding LogText}" IsReadOnly="True"
             VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" />

    <!-- Soundboard controls -->
    <StackPanel Grid.Row="2" Orientation="Horizontal">
      <Button Content="Add Sound…" Command="{Binding AddSoundCommand}"/>
      <Button Content="Save Layout" Command="{Binding SaveLayoutCommand}" Margin="8,0,0,0"/>
      <ItemsControl ItemsSource="{Binding Sounds}">
        <ItemsControl.ItemsPanel>
          <ItemsPanelTemplate>
            <UniformGrid Rows="2" Columns="5"/>
          </ItemsPanelTemplate>
        </ItemsControl.ItemsPanel>
        <ItemsControl.ItemTemplate>
          <DataTemplate>
            <Border Padding="8" Margin="4" BorderBrush="#ccc" BorderThickness="1" CornerRadius="6">
              <StackPanel>
                <TextBlock Text="{Binding DisplayName}" FontWeight="Bold"/>
                <TextBlock Text="{Binding HotkeyLabel}" Opacity="0.7" Margin="0,2,0,6"/>
                <StackPanel Orientation="Horizontal">
                  <Button Content="Play" Command="{Binding PlayCommand}" Width="60"/>
                  <Button Content="Bind Hotkey" Command="{Binding BindCommand}" Width="100" Margin="6,0,0,0"/>
                  <Button Content="Remove" Command="{Binding RemoveCommand}" Width="80" Margin="6,0,0,0"/>
                </StackPanel>
              </StackPanel>
            </Border>
          </DataTemplate>
        </ItemsControl.ItemTemplate>
      </ItemsControl>
    </StackPanel>
  </Grid>
</Window>
